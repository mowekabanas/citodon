/*!
 * Mowe Citodon Project v0.0.1 (http://letsmowe.org/)
 * Copyright 2013-2016 Mowe Developers
 * Licensed under MIT (https://github.com/mowekabanas/citodon/blob/master/LICENSE)
*/
function jump(t,e){function i(t){r=t-n,window.scrollTo(0,l.easing(r,a,c,u)),r<u?requestAnimationFrame(i):o()}function o(){window.scrollTo(0,a+c),"function"==typeof l.callback&&l.callback()}function s(t,e,i,o){return t/=o/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)}var n,r,a=window.pageYOffset,l={duration:e.duration,offset:e.offset||0,callback:e.callback,easing:e.easing||s},c="string"==typeof t?l.offset+document.querySelector(t).getBoundingClientRect().top:t,u="function"==typeof l.duration?l.duration(c):l.duration;requestAnimationFrame(function(t){n=t,i(t)})}function initSmoothScrolling(){function t(){function t(t){e(t.target)&&(t.stopPropagation(),t.preventDefault(),jump(t.target.hash,{duration:s,callback:function(){o(t.target.hash)}}))}document.body.addEventListener("click",t,!1)}function e(t){return"a"===t.tagName.toLowerCase()&&t.hash.length>0&&i(t.href)===n}function i(t){return t.slice(0,t.lastIndexOf("#"))}function o(t){var e=document.getElementById(t.substring(1));e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}var s=800,n=location.hash?i(location.href):location.href;t()}var formSentCount,formSentTry,formSentCountLimit,formSentTryLimit;formSentCount=formSentTry=0,formSentCountLimit=formSentTryLimit=2;var requestURL="https://mailman-server-rtirhisruv.now.sh/mailman/citodon",formLocked=!1,form={viewport:document.getElementById("cForm")};form.fields={},form.sendButton={},form.fields.cName=document.getElementById("cName"),form.fields.cCity=document.getElementById("cCity"),form.fields.cPhone=document.getElementById("cPhone"),form.fields.cEmail=document.getElementById("cEmail"),form.fields.cMessage=document.getElementById("cMessage"),form.sendButton.viewport=document.getElementById("cSubmit"),form.states=["is-error","is-fail","is-sending","is-success"],form.changeState=function(t){if(form.viewport){for(var e=form.states.length;e--;)form.viewport.classList.remove(form.states[e]);form.viewport.classList.add(t)}},form.changeStateError=function(t,e){this.changeState(t),"is-error"==t&&(form.viewport.querySelector(".ContactFormStatus-text--error").innerText=e)},form.sendRequest=function(t){if(t){var e=new XMLHttpRequest;formLocked=!0,form.changeState("is-sending"),e.ontimeout=function(e){console.log(e),form.changeState("is-fail"),formSentTry<formSentTryLimit&&form.send(t,5e3)},e.onerror=function(){form.changeState("is-error")},e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?(console.log(e.responseText),form.changeState("is-success")):form.changeState("is-error")),formLocked=!1},e.open("GET",requestURL+"?"+form.requestParams(t)),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.timeout=1e4,e.send()}},form.requestParams=function(t){var e="",i=encodeURIComponent;for(var o in t)e+="&"+i(o)+"="+i(t[o]);return e.slice(1)+"&_t="+(new Date).getTime()},form.send=function(t,e){t&&(formSentTry++,e?setTimeout(function(){form.sendRequest(t)},e):form.sendRequest(t))},form.sendButton.viewport.addEventListener("click",function(t){if(t.preventDefault(),!formLocked)if(formSentCount<formSentCountLimit){var e=!0,i="";if(form.fields.cName.value&&form.fields.cCity.value&&form.fields.cMessage.value?form.fields.cPhone.value||form.fields.cEmail.value?form.fields.cPhone.parentNode.classList.contains("is-error")||form.fields.cEmail.parentNode.classList.contains("is-error")?(i="Não foi possível enviar, informe os dados corretamente.",e=!1):e=!0:(i="Não foi possível enviar, informe pelos menos um email ou um telefone.",e=!1):(i="Não foi possível enviar, preencha os campos e tente novamente.",e=!1),e){formLocked=!0,formSentCount++;var o={cName:form.fields.cName.value,cPhone:form.fields.cPhone.value,cEmail:form.fields.cEmail.value,cAddress:"",cCity:form.fields.cCity.value,cMessage:form.fields.cMessage.value};form.send(o,!1)}else form.changeStateError("is-error",i)}else form.changeStateError("is-error","Limite de mensagens atingido por sessão")});var EmailDeliver=function(){function t(t){this.formID=t,this.destination="fromagio_cristiano@live.com",this.formID&&this.init()}return t.prototype.formatMessage=function(){var t=document.getElementById(this.formID),e=t.querySelector("input#name").value,i=t.querySelector("input#email").value,o=t.querySelector("input#subject").value,s=t.querySelector("textarea#message").value,n="Nome: "+e+"\n\n"+s,r={From:"mailman@elbit.com.br",To:this.destination,Subject:o,TextBody:n,HTMLBody:n,ReplyTo:i};console.log(JSON.stringify(r));var a=new XMLHttpRequest;a.open("POST","https://api.postmarkapp.com/email",!0),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("X-Postmark-Server-Token","POSTMARK_API_TEST"),a.send(JSON.stringify(r)),a.onload=function(){if(a.status>=200&&a.status<400)try{console.log(a.responseText)}catch(t){console.log("Error parse: "+t)}else console.log("Erro")}},t.prototype.init=function(){this.destination?this.formatMessage():console.log("Destination missing")},t}();initSmoothScrolling();var Logo=function(){function t(t,e,i){this.viewport=t,this.url=e,this.fallback=i,this.get()}return t.prototype.appendTo=function(t,e){e?t.insertBefore(this.viewport,e):t.appendChild(this.viewport)},t.prototype.cloneTo=function(t){t.innerHTML=this.content},t.prototype.get=function(){var t=this;if(this.viewport&&this.url){var e=new XMLHttpRequest;e.open("GET",this.url,!0),e.onreadystatechange=function(){if(4===this.readyState&&200==this.status&&this.responseText)try{t.content=this.responseText,t.viewport.innerHTML=t.content,t.fallback&&t.fallback()}catch(e){}},e.send(),e=null}},t}(),Popover=function(){function t(t,e){var i=this;this.element=t,this.toggleList=e,this.onToggleMouseOver=function(){i.active()},this.onToggleMouseOut=function(){i.inactive()},this.onToggleTouch=function(t){i.active()},this.onCloseClick=function(t){i.inactive()},this.onBackdropTouch=function(t){i.inactive()},t&&this.init()}return t.prototype.active=function(){this.element.classList.add("is-hover")},t.prototype.inactive=function(){this.element.classList.remove("is-hover")},t.prototype.addListeners=function(){for(var t=this.toggleList.length;t--;)this.toggleList[t].addEventListener("mouseover",this.onToggleMouseOver,!1),this.toggleList[t].addEventListener("mouseout",this.onToggleMouseOut,!1),this.toggleList[t].addEventListener("touchstart",this.onToggleTouch,!1);this.close&&this.close.addEventListener("click",this.onCloseClick,!1),this.backdrop&&this.backdrop.addEventListener("touchstart",this.onBackdropTouch,!1)},t.prototype.getElements=function(){this.close=this.element.querySelector(".Popover-close"),this.backdrop=this.element.querySelector(".Popover-backdrop")},t.prototype.init=function(){this.getElements(),this.addListeners()},t}(),RequiredField=function(){function t(t,e){var i=this;this.viewport=t,this.input={},this.label={},this.fieldClass=e,this.message={label:"",empty:this.viewport.dataset.empty,invalid:this.viewport.dataset.invalid},this.onClick=function(){try{i.input.viewport.focus()}catch(t){}},this.onFocus=function(){i.viewport.classList.add("has-focus")},this.onBlur=function(){i.viewport.classList.remove("has-focus"),i.input.viewport.value?i.validateInput(i.input.viewport)?(i.viewport.classList.add("is-valid"),i.viewport.classList.remove("is-error")):(i.viewport.classList.remove("is-valid"),i.viewport.classList.add("is-error"),i.viewport.classList.add("has-label")):(i.toggleLabel("default"),i.viewport.classList.remove("is-valid"),i.viewport.classList.remove("is-error"))},this.onInput=function(){i.input.viewport.value?(i.viewport.classList.add("has-label"),i.viewport.classList.contains("is-error")?i.validateInput(i.input.viewport)&&(i.viewport.classList.add("is-valid"),i.viewport.classList.remove("is-error")):i.viewport.classList.contains("is-valid")&&(i.validateInput(i.input.viewport)||(i.viewport.classList.remove("is-valid"),i.viewport.classList.add("is-error"),i.viewport.classList.add("has-label")))):i.viewport.classList.remove("has-label")},this.viewport&&this.init()}return t.prototype.normalize=function(){this.input.viewport.value&&this.viewport.classList.add("has-label")},t.prototype.addListeners=function(){try{this.viewport.addEventListener("click",this.onClick,!1),this.input.viewport.addEventListener("focus",this.onFocus,!1),this.input.viewport.addEventListener("blur",this.onBlur,!1),this.input.viewport.addEventListener("input",this.onInput,!1)}catch(t){}},t.prototype.getInputElement=function(){return this.input.viewport=this.viewport.querySelector(this.fieldClass),this.label.viewport=this.viewport.querySelector("label"),this.message.label=this.label.viewport.innerText,!!this.input.viewport},t.prototype.validateInput=function(t){if(""==t.value)return this.toggleLabel("empty"),!1;if(this.toggleLabel("default"),"text"==t.type)return this.toggleLabel("default"),!0;if("email"==t.type){var e=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;return t.validity.valid&&e.test(t.value)?(this.toggleLabel("default"),!0):(this.toggleLabel("invalid"),!1)}if("tel"==t.type){t.value.replace(/\s/g,"").length<=13&&(t.value=t.value.replace(/\s/g,""));var i=/^[+#*]?[0-9]{8,13}$/;return i.test(t.value)?(this.toggleLabel("default"),!0):(this.toggleLabel("invalid"),!1)}return t.validity.valid},t.prototype.toggleLabel=function(t){switch(t){case"invalid":this.label.viewport.innerText=this.message.invalid;break;case"empty":this.label.viewport.innerText=this.message.empty;break;case"default":this.label.viewport.innerText=this.message.label}},t.prototype.init=function(){this.getInputElement()&&this.addListeners(),this.normalize()},t}(),Toggle=function(){function t(t,e,i){var o=this;this.element=t,this.target=e,this.toggleStateClass=i,this.isActive=!1,this.onMouseOver=function(t){o.active()},this.onMouseOut=function(t){o.inactive()},this.onClick=function(t){o.toggle()},this.onTouchStart=function(t){o.toggle()},this.element&&this.init()}return t.prototype.active=function(){this.isActive=!0;for(var t=this.target.length;t--;)this.target[t].classList.add(this.toggleStateClass)},t.prototype.inactive=function(){this.isActive=!1;for(var t=this.target.length;t--;)this.target[t].classList.remove(this.toggleStateClass)},t.prototype.toggle=function(){this.isActive?this.inactive():this.active()},t.prototype.getCurrentState=function(){try{if(this.target.length)for(var t=this.target.length;t--;){if(this.target[t].classList.contains(this.toggleStateClass))return!0;if(this.target.classList.contains(this.toggleStateClass))return!0}}catch(e){}return!1},t.prototype.addListeners=function(){if(this.element)try{this.element.addEventListener("mouseover",this.onMouseOver,!1),this.element.addEventListener("mouseout",this.onMouseOut,!1),this.element.addEventListener("touchstart",this.onTouchStart,!1)}catch(t){}},t.prototype.init=function(){this.addListeners(),this.inactive()},t}();